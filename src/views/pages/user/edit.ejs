<%- include('../../components/head', { page: {title: '404 Not Found'} }) %>
<%- include('../../components/navbar') %>
<main>
    <div class="container mx-auto mt-4">
        <h1 class="font-bold text-2xl">Профиль: <%= profile.user.username %></h1>
        <form action="/user/edit/<%= profile.user.id %>" method="post">
            <div class="flex flex-col gap-2 mt-4">
                    <div class="flex flex-col gap-2">
                    <label for="username">
                        <p>Username: <input type="text" value="<%= profile.user.username %>" name="username" id="username"></p>
                    </label>
                    <label for="email">
                        <p>Email: <input type="text" value="<%= profile.user.email %>" name="email" id="email"></p>
                    </label>
                    <div class="flex gap-2 items-start">
                        <label for="roles"><h2>Роли:</h2></label>
                        <select name="roles[]" id="roles" multiple>
                            <% for(let role of roles) {%>
                                <option
                                        value="<%= role %>"
                                        <% if(profile.user.roles.map(role => role.name).includes(role)) {%>selected<% } %>
                                ><%= role %></option>
                            <% } %>
                        </select>
                    </div></div>
                <div class="flex gap-4">
                    <% if(user && user.id !== profile.user.id) { %>
                        <button type="submit" class="border border-blue-500 text-blue-500 rounded px-2 py-1 cursor-pointer">Сохранить</button>
                    <% } %>
                </div>
            </div>
        </form>
    </div>
</main>
<%- include('../../components/footer') %>
